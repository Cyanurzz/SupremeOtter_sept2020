<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="fr">
	<head th:replace="fragment/adminLayout.html :: head(~{::title})">
		<title>Project Titan | Manage Articles</title>
	</head>
	<body>
		<header th:replace="fragment/adminLayout.html :: header"> </header>
		<main class="content uk-container">
			<h1 class="uk-text-large"  th:text="${article.id} ? 'Page de Modifications' : 'Page de Creation'"> </h1>
			<div th:replace="fragment/adminLayout.html :: message"> </div>
			
			<form method="post" th:action="@{/admin/articles/update}" th:object="${article}" class="uk-grid-small uk-form" uk-grid>
				<input name="id" th:field="*{id}" type="hidden">
			    <div class="uk-width-1-1">
			        <label class="uk-form-label" for="title">Titre de l'article *</label> 
					<input id="title" name="title" placeholder="Note de Maj super smash bros" th:field="*{title}" type="text" class="uk-input uk-form-large uk-width">
					<div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="uk-alert-danger" uk-alert></div>
			    </div>
				<div class="uk-width-1-2" uk-form-custom>
					<label class="uk-form-label" for="banner">Banni√®re : </label> 
				    <input name="banner" type="input" th:field="*{banner}" id="banner" class="uk-input uk-form-large uk-width">
				</div>
				<div class="uk-width-1-2">
			        <label class="uk-form-label" for="form-stacked-select">Category</label>
			        <div class="uk-form-controls">
			            <select th:field="*{category}" class="uk-select" id="form-stacked-select">
			                <option th:value=null></option>
			                <option th:value="PROJECT_TITAN">Projet Titan</option>
			                <option th:each="tag: ${tagsKeyGame}" th:value="${tag.name}" th:text="${tag.name}"></option>
			            </select>
			        </div>
			    </div>
        		<div class="uk-width-1-1 uk-card uk-card-default uk-card-body uk-child-width-auto uk-card-hover">
        			<p>tags *</p>
        			<ul class=" uk-grid-small uk-grid uk-child-width-auto">
			    		<li th:each="tag : ${tags}">
            				<label for="tags" th:text="| ${tag.name}|"></label>
            				<input  th:value="${tag.id}" class="uk-checkbox" type="checkbox" th:field="*{tags}" id="tags" name="tags">
			    		</li>
			    	</ul>
        		</div>
			    <div class="uk-width-">
			        <label class="uk-form-label" for = "content">Contenu</label>
					<textarea id="content" name="content" th:field="*{content}" rows=8 class="uk-textarea uk-form-large"></textarea>
					<div th:if="${#fields.hasErrors('content')}" th:errors="*{content}" class="uk-alert-danger" uk-alert></div>
			    </div>
			    
				<div class="uk-margin uk-margin-auto-left uk-text-center">
					<input type="submit" th:value="${article.id} ? 'Modifier' : 'Creer'" class= "uk-button uk-button-primary">
					<a href="/admin/articles" class="uk-button uk-button-danger">Retour en arriere</a>
				</div>
			</form>
		</main>

		
	</body>
	<div th:replace="fragment/layout.html :: scripts"></div>
</html>